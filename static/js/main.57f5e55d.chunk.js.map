{"version":3,"sources":["renderers/singleHeader.tsx","renderers/twoHeaders.tsx","renderers/normal.tsx","renderers/blockquote.tsx","renderers/headerParagraphs.tsx","renderers/headerCodeblock.tsx","renderers/headerParagraphsImage.tsx","renderers/image.tsx","renderers/manyImages.tsx","renderers/headerImage.tsx","renderers/headerBlockquote.tsx","renderers/headerList.tsx","renderers/headerListImage.tsx","renderers/index.tsx","context/slides.ts","context/deck.ts","context/history.ts","components/Menu/StyledButton.tsx","components/Menu/Buttons/Quote.tsx","components/Menu/Buttons/Codeblock.tsx","components/Menu/Buttons/Header.tsx","components/Menu/Buttons/Footer.tsx","components/Menu/Buttons/List.tsx","components/Menu/Buttons/Image.tsx","components/Menu/Buttons/Paragraph.tsx","components/Menu/Buttons/Save.tsx","components/Menu/Buttons/Undo.tsx","components/Menu/Buttons/Redo.tsx","components/Menu/Buttons/Load.tsx","components/Menu/Buttons/New.tsx","components/Menu/Buttons/Settings.tsx","components/Menu/Menu.tsx","components/Slide/elements/hooks/clickOutside.ts","components/Slide/EditableToolbar.tsx","components/Slide/ActionsButton.tsx","components/Slide/elements/Header.tsx","components/Slide/elements/Codeblock.tsx","components/Slide/elements/Paragraph.tsx","components/Slide/elements/Image.tsx","components/Slide/elements/List.tsx","components/Slide/elements/Blockquote.tsx","components/Slide/elements/FooterItem.tsx","components/Slide/Slide.tsx","components/Thumbnails/Thumbnail.tsx","components/Thumbnails/ThumbnailsBar.tsx","components/Slide/ArraysWrapper.tsx","components/Slide/SlideWrapper.tsx","components/LoadingBar.tsx","components/Deck.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Container","styled","div","theme","colours","primaryNormalText","primaryBackground","primaryHeaderText","TopContainer","BottomContainer","secondaryNormalText","secondaryBackground","BlockContainer","secondaryHeaderText","LeftContainer","ParagraphContainer","RightContainer","ImageContainer","renderersMap","singleHeader","children","find","item","type","displayName","className","twoHeaders","filter","mainHeader","secondHeader","normal","map","child","index","style","flex","headerCodeblock","header","codeblock","headerParagraphsImage","image","paragraphs","manyImages","itemSize","length","headerImage","headerList","list","headerListImage","blockquote","headerParagraphs","headerBlockquote","buildersMap","add","remove","existingElements","existingHeading","existingImage","existingBlockquote","existingParagraph","existingList","remainingElements","remainingHeading","remainingImage","remainingBlockquote","remainingParagraph","remainingList","remainingParagraphs","initial","require","SlidesContext","React","createContext","currentSlide","setCurrentSlide","slides","setSlides","addSlide","removeSlide","addElement","removeElement","changeElementValue","changeHeaderSize","DeckContext","setColours","size","setSize","present","setPresent","loading","setLoading","HistoryContext","addAction","undo","redo","StyledButton","button","Quote","useContext","data-tooltip","onClick","id","Date","getTime","value","Codeblock","title","Modal","Header","ref","useRef","useState","headingSelected","setHeadingSelected","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","level","Footer","List","listSelected","setListSelected","listType","Image","imageModalOpen","setImageModalOpen","addImageFromFile","useCallback","file","reader","FileReader","onload","result","readAsDataURL","addImageFromString","content","a","url","URL","fetch","toString","response","blob","preventDefault","fileOpen","mimeTypes","callback","items","clipboardData","kind","getAsString","getAsFile","dataTransfer","href","Paragraph","Save","_","obj","version","Blob","JSON","stringify","fileSave","fileName","extensions","console","log","name","forwardRef","Undo","Redo","Load","handle","text","contents","parse","New","state","elements","FormContainer","RowContainer","FieldContainer","Settings","modalOpen","setModalOpen","labelsMap","onChange","selectedSize","split","defaultValue","join","option","Object","entries","width","onBlur","e","Left","Center","Right","ExternalLink","StyledGithubIcon","GitHubIcon","StyledHelpIcon","HelpIcon","Menu","togglePresent","fileHandle","background","color","borderColor","useClickOutside","clickedOutside","clickContainer","StyledPopover","left","top","ToolButton","LinkInput","input","EditableToolbar","showLinkText","setShowLinkText","textSelected","setTextSelected","linkText","setLinkText","pos","setPos","selection","setSelection","textContent","setTextContent","applyItalic","rangyClassApplier","createClassApplier","toggleSelection","applyBold","handler","rangySelectionSaveRestore","getSelection","trim","getRangeAt","rangeCount","range","getAllRanges","nativeRange","rects","getBoundingClientRect","parentPos","element","key","metaKey","ctrlKey","placeholder","onMouseDown","stopPropagation","saveSelection","disabled","match","RegExp","restoreSelection","elementTagName","elementAttributes","sel","anchorNode","parentNode","tagName","applier","getAttribute","isAppliedToSelection","undoToSelection","applyLink","ActionsButton","ButtonsBar","StyledHeader","selected","slideNumber","editingElement","setSelected","finishEditing","setAttribute","innerHTML","Tag","select","focus","tabIndex","onFocus","relatedTarget","currentTarget","as","onKeyDown","code","dangerouslySetInnerHTML","__html","sanitizeHtml","allowedTags","allowedAttributes","span","createElement","StyledCode","editHeading","hightlight","highlightBlock","StyledParagraph","p","getImageDimensions","Promise","resolve","reject","img","height","onerror","src","StyledImage","InnerContainer","Image2","setStyle","imageDimensions","maxWidth","clientWidth","maxHeight","clientHeight","ratio","Math","min","useLayoutEffect","getSize","alt","StyledList","StyledBlockquote","Blockquote","StyledFooterItem","FooterItem","SizeWrapper","scaleSize","StyledSlide","Slide","scale","slide","Wrapper","active","StyledRemoveButton","StyledAddButton","Thumbnail","number","hover","setHover","thumbnailWidth","thumbnailHeight","getScale","setScale","updateSize","window","draggableId","provided","innerRef","draggableProps","dragHandleProps","onMouseEnter","onMouseLeave","ThumbnailsBar","onDragEnd","destination","source","array","beforeSource","slice","sourceItem","afterSource","arrayWithoutSource","first","rest","reorder","droppableId","direction","droppableProps","ArraysWrapper","SlideWrapper","innerWidth","innerHeight","StyledLoadingBar","reduce","last","LoadingBar","App","prev","elementsWithoutFooter","nextState","at","useSlidesState","actions","setActions","currentAction","setCurrentAction","lastAction","useHistoryState","useDeckState","screenfull","isEnabled","isFullscreen","on","off","totalSlides","shiftKey","Provider","request","GlobalStyle","createGlobalStyle","reset","Deck","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.57f5e55d.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: white;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  padding: 2em;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\n\nexport function SingleHeaderRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <div className=\"container\">{children}</div>\n    </Container>\n  );\n}\nexport const SingleHeaderBuilder: Builder = {\n  add: (type) => {\n    if (type === \"heading\") return \"twoHeaders\";\n    if (type === \"paragraph\") return \"headerParagraphs\";\n    if (type === \"list\") return \"headerList\";\n    if (type === \"image\") return \"headerImage\";\n    if (type === \"codeblock\") return \"headerCodeblock\";\n    if (type === \"blockquote\") return \"headerBlockquote\";\n    return \"normal\";\n  },\n  remove: (type) => {\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: white;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n`;\nconst BottomContainer = styled.div`\n  padding: 1.5em;\n`;\n\nexport function TwoHeadersRenderer({ children }: { children: JSX.Element[] }) {\n  const [mainHeader, secondHeader] = children.filter(\n    (item) => item.type.displayName === \"Header\"\n  );\n\n  if (!mainHeader) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{mainHeader}</TopContainer>\n      <BottomContainer>{secondHeader}</BottomContainer>\n    </Container>\n  );\n}\nexport const TwoHeadersBuilder: Builder = {\n  add: (type) => {\n    return \"normal\";\n  },\n  remove: (type) => {\n    return \"singleHeader\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  background-color: white;\n  padding: 1.5em;\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n  display: flex;\n  flex-direction: column;\n`;\nconst BlockContainer = styled.div`\n  display: block;\n  padding-bottom: 0.5em;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${({ theme }) => theme.colours.secondaryHeaderText};\n  }\n\n  & > * {\n    padding-bottom: 1em;\n    max-width: 100%;\n  }\n`;\n\nexport function NormalRenderer({ children }: { children: JSX.Element[] }) {\n  return (\n    <Container>\n      {children.map((child, index) => (\n        <BlockContainer\n          style={{ flex: `${child.type.displayName === \"Image\" ? 1 : 0}` }}\n          key={index}\n        >\n          {child}\n        </BlockContainer>\n      ))}\n    </Container>\n  );\n}\n\nexport const NormalBuilder: Builder = {\n  add: (type, existingElements) => {\n    if (type === \"heading\" && !existingElements.length) return \"singleHeader\";\n    if (type === \"image\" && !existingElements.length) return \"image\";\n    if (type === \"blockquote\" && !existingElements.length) return \"blockquote\";\n\n    const existingHeading = existingElements.filter(\n      (item) => item.type === \"heading\"\n    ).length;\n    const existingImage = existingElements.filter(\n      (item) => item.type === \"image\"\n    ).length;\n    const existingBlockquote = existingElements.filter(\n      (item) => item.type === \"blockquote\"\n    ).length;\n    const existingParagraph = existingElements.filter(\n      (item) => item.type === \"paragraph\"\n    ).length;\n    const existingList = existingElements.filter((item) => item.type === \"list\")\n      .length;\n\n    if (existingElements.length === 1) {\n      if (type === \"heading\" && existingHeading === 1) return \"twoHeaders\";\n      if (type === \"paragraph\" && existingHeading === 1)\n        return \"headerParagraphs\";\n      if (type === \"list\" && existingHeading === 1) return \"headerList\";\n      if (type === \"image\" && existingHeading === 1) return \"headerImage\";\n      if (type === \"heading\" && existingList === 1) return \"headerList\";\n      if (type === \"heading\" && existingImage === 1) return \"headerImage\";\n      if (type === \"heading\" && existingBlockquote === 1)\n        return \"headerBlockquote\";\n      if (type === \"blockquote\" && existingHeading === 1)\n        return \"headerBlockquote\";\n      if (type === \"heading\" && existingParagraph >= 1)\n        return \"headerParagraphs\";\n    }\n\n    if (existingElements.length > 1) {\n      if (\n        type === \"heading\" &&\n        existingParagraph > 1 &&\n        !existingHeading &&\n        !existingImage &&\n        !existingBlockquote &&\n        !existingList\n      )\n        return \"headerParagraphs\";\n\n      if (\n        type === \"heading\" &&\n        existingParagraph >= 1 &&\n        existingImage === 1 &&\n        !existingHeading &&\n        !existingBlockquote &&\n        !existingList\n      )\n        return \"headerParagraphsImage\";\n    }\n\n    return \"normal\";\n  },\n  remove: (type, remainingElements) => {\n    const remainingHeading = remainingElements.filter(\n      (item) => item.type === \"heading\"\n    ).length;\n    const remainingImage = remainingElements.filter(\n      (item) => item.type === \"image\"\n    ).length;\n    const remainingBlockquote = remainingElements.filter(\n      (item) => item.type === \"blockquote\"\n    ).length;\n    const remainingParagraph = remainingElements.filter(\n      (item) => item.type === \"paragraph\"\n    ).length;\n    const remainingList = remainingElements.filter(\n      (item) => item.type === \"list\"\n    ).length;\n\n    if (remainingElements.length === 2 && remainingHeading === 2) {\n      return \"twoHeaders\";\n    }\n    if (remainingElements.length === 1 && remainingBlockquote === 1) {\n      return \"blockquote\";\n    }\n    if (remainingElements.length === 1 && remainingHeading === 1) {\n      return \"singleHeader\";\n    }\n    if (remainingElements.length === 1 && remainingImage === 1) {\n      return \"image\";\n    }\n    if (remainingElements.length === remainingImage) {\n      return \"manyImages\";\n    }\n\n    if (remainingElements.length === 2 && remainingHeading === 1) {\n      if (remainingBlockquote === 1) {\n        return \"headerBlockquote\";\n      }\n      if (remainingImage === 1) {\n        return \"headerImage\";\n      }\n      if (remainingParagraph >= 1) {\n        return \"headerParagraphs\";\n      }\n      if (remainingList === 1) {\n        return \"headerList\";\n      }\n    }\n\n    if (remainingElements.length > 2 && remainingHeading === 1) {\n      if (remainingParagraph > 1) {\n        return \"headerParagraphs\";\n      }\n    }\n\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n\n  blockquote {\n    padding: 1em;\n\n    &:before {\n      color: ${({ theme }) => theme.colours.secondaryNormalText};\n    }\n  }\n`;\n\nexport function BlockquoteRenderer({ children }: { children: JSX.Element[] }) {\n  const blockquote = children.find(\n    (item) => item.type.displayName === \"Blockquote\"\n  );\n\n  if (!blockquote) {\n    return <></>;\n  }\n\n  return <Container>{blockquote}</Container>;\n}\n\nexport const BlockquoteBuilder: Builder = {\n  add: (type) => {\n    if (type === \"heading\") return \"headerBlockquote\";\n    return \"normal\";\n  },\n  remove: (type) => {\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    color: white;\n  }\n`;\nconst BottomContainer = styled.div`\n  flex: 2;\n  padding: 1.5em;\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n  p {\n    padding-bottom: 0.5em;\n  }\n`;\n\nexport function HeaderParagraphsRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const paragraphs = children.filter(\n    (item) => item.type.displayName === \"Paragraph\"\n  );\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{header}</TopContainer>\n      <BottomContainer>{paragraphs}</BottomContainer>\n    </Container>\n  );\n}\n\nexport const HeaderParagraphsBuilder: Builder = {\n  add: (type) => {\n    if (type === \"paragraph\") return \"headerParagraphs\";\n    if (type === \"image\") return \"headerParagraphsImage\";\n    return \"normal\";\n  },\n  remove: (type, remainingElements) => {\n    const remainingParagraphs = remainingElements.filter(\n      (item) => item.type === \"paragraph\"\n    ).length;\n    if (type === \"paragraph\" && remainingParagraphs >= 1)\n      return \"headerParagraphs\";\n    if (type === \"paragraph\" && remainingParagraphs === 0)\n      return \"singleHeader\";\n\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\n\nconst BottomContainer = styled.div`\n  display: flex;\n  flex: 2;\n  padding: 1.5em;\n\n  pre {\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    code {\n      height: 100%;\n    }\n  }\n`;\n\nexport function HeaderCodeblockRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const codeblock = children.find(\n    (item) => item.type.displayName === \"Codeblock\"\n  );\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{header}</TopContainer>\n      <BottomContainer>{codeblock}</BottomContainer>\n    </Container>\n  );\n}\n\nexport const HeaderCodeblockBuilder: Builder = {\n  add: (type) => {\n    return \"normal\";\n  },\n  remove: (type) => {\n    if (type === \"codeblock\") return \"singleHeader\";\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst LeftContainer = styled.div`\n  padding: 1em;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    flex: 1;\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\n\nconst ParagraphContainer = styled.div`\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  flex: 2;\n`;\n\nconst RightContainer = styled.div`\n  flex: 2;\n  padding: 1.5em;\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport function HeaderParagraphsImageRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const image = children.find((item) => item.type.displayName === \"Image\");\n  const paragraphs = children.filter(\n    (item) => item.type.displayName === \"Paragraph\"\n  );\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <LeftContainer>\n        {header}\n        <ParagraphContainer>{paragraphs}</ParagraphContainer>\n      </LeftContainer>\n      <RightContainer>{image}</RightContainer>\n    </Container>\n  );\n}\n\nexport const HeaderParagraphsImageBuilder: Builder = {\n  add: (type) => {\n    if (type === \"paragraph\") return \"headerParagraphsImage\";\n    if (type === \"image\") return \"headerParagraphsImage\";\n    return \"normal\";\n  },\n  remove: (type, remainingElements) => {\n    const remainingParagraphs = remainingElements.filter(\n      (item) => item.type === \"paragraph\"\n    ).length;\n    if (type === \"paragraph\" && remainingParagraphs >= 1)\n      return \"headerParagraphsImage\";\n    if (type === \"paragraph\" && remainingParagraphs === 0) return \"headerImage\";\n    if (type === \"image\") return \"headerParagraphs\";\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 1.5em;\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & > div {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport function ImageRenderer({ children }: { children: JSX.Element[] }) {\n  const image = children.find((item) => item.type.displayName === \"Image\");\n\n  if (!image) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <ImageContainer>{image}</ImageContainer>\n    </Container>\n  );\n}\n\nexport const ImageBuilder: Builder = {\n  add: (type) => {\n    if (type === \"heading\") return \"headerImage\";\n    if (type === \"image\") return \"manyImages\";\n    return \"normal\";\n  },\n  remove: (type) => {\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: white;\n  padding: 1.5em;\n\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  padding: 0.5em;\n  position: relative;\n\n  & > div {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport function ManyImagesRenderer({ children }: { children: JSX.Element[] }) {\n  const itemSize =\n    children.length >= 2 && children.length <= 4\n      ? \"50%\"\n      : children.length >= 5 && children.length <= 7\n      ? \"33.3%\"\n      : children.length > 7\n      ? \"25%\"\n      : 0;\n\n  return (\n    <Container>\n      {children.map((item, index) => (\n        <ImageContainer key={index} style={{ flex: `${itemSize}` }}>\n          {item}\n        </ImageContainer>\n      ))}\n    </Container>\n  );\n}\n\nexport const ManyImagesBuilder: Builder = {\n  add: (type) => {\n    if (type === \"image\") return \"manyImages\";\n    return \"normal\";\n  },\n  remove: (type: string, remainingElements) => {\n    if (remainingElements.length > 1) {\n      return \"manyImages\";\n    }\n    if (remainingElements.length === 1) {\n      return \"image\";\n    }\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    color: ${({ theme }) => theme.colours.primaryNormalText};\n  }\n`;\nconst BottomContainer = styled.div`\n  flex: 2;\n  padding: 1.5em;\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport function HeaderImageRenderer({ children }: { children: JSX.Element[] }) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const image = children.find((item) => item.type.displayName === \"Image\");\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{header}</TopContainer>\n      <BottomContainer>{image}</BottomContainer>\n    </Container>\n  );\n}\n\nexport const HeaderImageBuilder: Builder = {\n  add: (type) => {\n    if (type === \"list\") return \"headerListImage\";\n    if (type === \"paragraph\") return \"headerParagraphsImage\";\n    return \"normal\";\n  },\n  remove: (type) => {\n    if (type === \"image\") return \"singleHeader\";\n    if (type === \"heading\") return \"image\";\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\nconst BottomContainer = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  flex: 2;\n  padding: 1.5em;\n\n  blockquote {\n    color: ${({ theme }) => theme.colours.secondaryNormalText};\n\n    &:before {\n      color: ${({ theme }) => theme.colours.secondaryNormalText};\n    }\n  }\n`;\n\nexport function HeaderBlockquoteRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const blockquote = children.find(\n    (item) => item.type.displayName === \"Blockquote\"\n  );\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{header}</TopContainer>\n      <BottomContainer>{blockquote}</BottomContainer>\n    </Container>\n  );\n}\n\nexport const HeaderBlockquoteBuilder: Builder = {\n  add: (type) => {\n    return \"normal\";\n  },\n  remove: (type) => {\n    if (type === \"blockquote\") return \"singleHeader\";\n    if (type === \"heading\") return \"blockquote\";\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst TopContainer = styled.div`\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.3);\n  padding: 1.5em;\n  background-color: ${({ theme }) => theme.colours.primaryBackground};\n  color: ${({ theme }) => theme.colours.primaryNormalText};\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n  }\n`;\nconst BottomContainer = styled.div`\n  flex: 2;\n  padding: 1.5em;\n  font-size: 1.1em;\n  background-color: ${({ theme }) => theme.colours.secondaryBackground};\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n  line-height: 2em;\n`;\n\nexport function HeaderListRenderer({ children }: { children: JSX.Element[] }) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const list = children.find((item) => item.type.displayName === \"List\");\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <TopContainer>{header}</TopContainer>\n      <BottomContainer>{list}</BottomContainer>\n    </Container>\n  );\n}\n\nexport const HeaderListBuilder: Builder = {\n  add: (type) => {\n    if (type === \"image\") return \"headerListImage\";\n    return \"normal\";\n  },\n  remove: (type) => {\n    if (type === \"list\") return \"singleHeader\";\n    return \"normal\";\n  },\n};\n","import styled from \"styled-components\";\n\nimport { Builder } from \"../types\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst LeftContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 1em;\n\n  background: ${({ theme }) => theme.colours.primaryBackground};\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    flex: 1;\n    color: ${({ theme }) => theme.colours.primaryHeaderText};\n    padding-bottom: 0.5em;\n  }\n\n  p,\n  ul {\n    padding-bottom: 0.5em;\n    color: ${({ theme }) => theme.colours.primaryNormalText};\n    flex: 1;\n  }\n`;\nconst RightContainer = styled.div`\n  flex: 2;\n  padding: 1.5em;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport function HeaderListImageRenderer({\n  children,\n}: {\n  children: JSX.Element[];\n}) {\n  const header = children.find((item) => item.type.displayName === \"Header\");\n  const list = children.find((item) => item.type.displayName === \"List\");\n  const image = children.find((item) => item.type.displayName === \"Image\");\n\n  if (!header) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <LeftContainer>\n        {header}\n        {list}\n      </LeftContainer>\n      <RightContainer>{image}</RightContainer>\n    </Container>\n  );\n}\n\nexport const HeaderListImageBuilder: Builder = {\n  add: (type) => {\n    return \"normal\";\n  },\n  remove: (type) => {\n    if (type === \"image\") return \"headerList\";\n    if (type === \"list\") return \"headerImage\";\n    return \"singleHeader\";\n  },\n};\n","import { Builder, State } from \"../types\";\n\nimport { SingleHeaderRenderer, SingleHeaderBuilder } from \"./singleHeader\";\nimport { TwoHeadersRenderer, TwoHeadersBuilder } from \"./twoHeaders\";\nimport { NormalRenderer, NormalBuilder } from \"./normal\";\nimport { BlockquoteRenderer, BlockquoteBuilder } from \"./blockquote\";\nimport {\n  HeaderParagraphsRenderer,\n  HeaderParagraphsBuilder,\n} from \"./headerParagraphs\";\nimport {\n  HeaderCodeblockRenderer,\n  HeaderCodeblockBuilder,\n} from \"./headerCodeblock\";\n\nimport {\n  HeaderParagraphsImageRenderer,\n  HeaderParagraphsImageBuilder,\n} from \"./headerParagraphsImage\";\nimport { ImageRenderer, ImageBuilder } from \"./image\";\nimport { ManyImagesRenderer, ManyImagesBuilder } from \"./manyImages\";\nimport { HeaderImageRenderer, HeaderImageBuilder } from \"./headerImage\";\nimport {\n  HeaderBlockquoteRenderer,\n  HeaderBlockquoteBuilder,\n} from \"./headerBlockquote\";\nimport { HeaderListRenderer, HeaderListBuilder } from \"./headerList\";\nimport {\n  HeaderListImageRenderer,\n  HeaderListImageBuilder,\n} from \"./headerListImage\";\n\nexport const renderersMap: Record<State, any> = {\n  singleHeader: SingleHeaderRenderer,\n  twoHeaders: TwoHeadersRenderer,\n  normal: NormalRenderer,\n  headerCodeblock: HeaderCodeblockRenderer,\n  headerParagraphsImage: HeaderParagraphsImageRenderer,\n  image: ImageRenderer,\n  manyImages: ManyImagesRenderer,\n  headerImage: HeaderImageRenderer,\n  headerList: HeaderListRenderer,\n  headerListImage: HeaderListImageRenderer,\n  blockquote: BlockquoteRenderer,\n  headerParagraphs: HeaderParagraphsRenderer,\n  headerBlockquote: HeaderBlockquoteRenderer,\n};\n\nexport const buildersMap: Record<State, Builder> = {\n  singleHeader: SingleHeaderBuilder,\n  twoHeaders: TwoHeadersBuilder,\n  normal: NormalBuilder,\n  headerCodeblock: HeaderCodeblockBuilder,\n  headerParagraphsImage: HeaderParagraphsImageBuilder,\n  image: ImageBuilder,\n  manyImages: ManyImagesBuilder,\n  headerImage: HeaderImageBuilder,\n  headerList: HeaderListBuilder,\n  headerListImage: HeaderListImageBuilder,\n  blockquote: BlockquoteBuilder,\n  headerParagraphs: HeaderParagraphsBuilder,\n  headerBlockquote: HeaderBlockquoteBuilder,\n};\n","import React, { useState } from \"react\";\n\nimport { Slide, Element } from \"../types\";\n\nimport { buildersMap } from \"../renderers\";\n\nconst initial = require(\"./initial-presentation.json\");\n\nexport function useSlidesState() {\n  const [slides, setSlides] = useState<Slide[]>(initial.slides);\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  function addSlide(at: number = slides.length) {\n    setSlides((prev) => {\n      const first = prev.slice(0, at);\n      const rest = prev.slice(at);\n      return [...first, { state: \"normal\", elements: [] }, ...rest];\n    });\n    setCurrentSlide(at);\n  }\n\n  function removeSlide(number: number) {\n    setSlides((prev) => prev.filter((_, index) => index !== number));\n    if (currentSlide === number) {\n      setCurrentSlide(number === 0 ? 0 : number - 1);\n    }\n  }\n\n  async function addElement(slideNumber: number, item: Element) {\n    setSlides((prev) =>\n      prev.map((slide, index) => {\n        if (index !== slideNumber) {\n          return slide;\n        }\n\n        const elementsWithoutFooter = slide.elements.filter(\n          (item) => item.type !== \"footer\"\n        );\n\n        const nextState =\n          item.type === \"footer\"\n            ? slide.state\n            : buildersMap[slide.state].add(item.type, elementsWithoutFooter);\n\n        return {\n          ...slide,\n          elements: [...slide.elements, item],\n          state: nextState,\n        };\n      })\n    );\n  }\n\n  function removeElement(slideNumber: number, id: number) {\n    setSlides((prev) =>\n      prev.map((slide, index) => {\n        if (index !== slideNumber) {\n          return slide;\n        }\n\n        const element = slide.elements.find((item) => item.id === id);\n\n        if (!element) {\n          return slide;\n        }\n\n        const elementsWithoutFooter = slide.elements.filter(\n          (item) => item.type !== \"footer\"\n        );\n        const remainingElements = elementsWithoutFooter.filter(\n          (item) => item.id !== id\n        );\n\n        const nextState =\n          element.type === \"footer\"\n            ? slide.state\n            : buildersMap[slide.state].remove(element.type, remainingElements);\n\n        return {\n          ...slide,\n          elements: remainingElements,\n          state: nextState,\n        };\n      })\n    );\n  }\n\n  function changeElementValue(slideNumber: number, id: number, value: string) {\n    setSlides((prev) =>\n      prev.map((slide, index) => {\n        if (index !== slideNumber) {\n          return slide;\n        }\n\n        return {\n          ...slide,\n          elements: slide.elements.map((item) =>\n            item.id === id ? { ...item, value } : item\n          ),\n        };\n      })\n    );\n  }\n\n  function changeHeaderSize(slideNumber: number, id: number, size: number) {\n    setSlides((prev) =>\n      prev.map((slide, index) => {\n        if (index !== slideNumber) {\n          return slide;\n        }\n\n        return {\n          ...slide,\n          elements: slide.elements.map((item) =>\n            item.id === id ? { ...item, level: size } : item\n          ),\n        };\n      })\n    );\n  }\n\n  return {\n    slides,\n    setSlides,\n    addElement,\n    removeElement,\n    changeElementValue,\n    changeHeaderSize,\n    addSlide,\n    removeSlide,\n    currentSlide,\n    setCurrentSlide,\n  };\n}\n\nexport const SlidesContext = React.createContext<{\n  currentSlide: number;\n  setCurrentSlide: (number: number) => void;\n  slides: Slide[];\n  setSlides: (slides: Slide[]) => void;\n  removeSlide: (id: number) => void;\n  addSlide: (id?: number) => void;\n  addElement: (slideNumber: number, item: Element) => void;\n  removeElement: (slideNumber: number, id: number) => void;\n  changeElementValue: (slideNumber: number, id: number, value: string) => void;\n  changeHeaderSize: (slideNumber: number, id: number, size: number) => void;\n}>({\n  currentSlide: 0,\n  setCurrentSlide: () => {},\n  slides: [],\n  setSlides: () => {},\n  addSlide: () => {},\n  removeSlide: () => {},\n  addElement: () => {},\n  removeElement: () => {},\n  changeElementValue: () => {},\n  changeHeaderSize: () => {},\n});\n","import React, { useState } from \"react\";\n\nexport type ColourLabels =\n  | \"primaryHeaderText\"\n  | \"primaryNormalText\"\n  | \"secondaryHeaderText\"\n  | \"secondaryNormalText\"\n  | \"primaryBackground\"\n  | \"secondaryBackground\";\n\nexport type Colours = Record<ColourLabels, string>;\n\nexport function useDeckState() {\n  const [present, setPresent] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [size, setSize] = useState<[number, number]>([960, 700]);\n  const [colours, setColours] = useState<Colours>({\n    primaryBackground: \"#4285f4\",\n    primaryHeaderText: \"#ffffff\",\n    primaryNormalText: \"#ffffff\",\n    secondaryBackground: \"#ffffff\",\n    secondaryHeaderText: \"#424242\",\n    secondaryNormalText: \"#737373\",\n  });\n\n  return {\n    colours,\n    setColours,\n    loading,\n    setLoading,\n    present,\n    setPresent,\n    size,\n    setSize,\n  };\n}\n\nexport const DeckContext = React.createContext<{\n  colours: Colours;\n  setColours: (colours: Colours) => void;\n  loading: boolean;\n  setLoading: (state: boolean) => void;\n  present: boolean;\n  setPresent: (present: boolean) => void;\n  size: [number, number];\n  setSize: (size: [number, number]) => void;\n}>({\n  colours: ([] as unknown) as Colours,\n  setColours: () => {},\n  size: [0, 0],\n  setSize: () => {},\n  present: false,\n  setPresent: () => {},\n  loading: false,\n  setLoading: () => {},\n});\n","import React, { useState } from \"react\";\n\nexport function useHistoryState() {\n  const [actions, setActions] = useState<\n    { undo: () => void; redo: () => void }[]\n  >([]);\n  const [currentAction, setCurrentAction] = useState(0);\n\n  function addAction(redo: () => void, undo: () => void) {\n    setActions([...actions.slice(0, currentAction), { redo, undo }]);\n    setCurrentAction(currentAction + 1);\n\n    redo();\n  }\n\n  function redo() {\n    if (currentAction < actions.length) {\n      const lastAction = actions[currentAction];\n      setCurrentAction(currentAction + 1);\n      lastAction.redo();\n    }\n  }\n\n  function undo() {\n    if (currentAction > 0) {\n      const lastAction = actions[currentAction - 1];\n      setCurrentAction(currentAction - 1);\n      lastAction.undo();\n    }\n  }\n\n  return { addAction, undo, redo };\n}\n\nexport const HistoryContext = React.createContext<{\n  addAction: (redo: () => void, undo: () => void) => void;\n  undo: () => void;\n  redo: () => void;\n}>({\n  addAction: () => {},\n  undo: () => {},\n  redo: () => {},\n});\n","import styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n  padding: 1em;\n  margin-right: 0.3em;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  color: #737373;\n\n  svg {\n    vertical-align: middle;\n    width: 1.5em;\n    height: 1.5em;\n  }\n\n  &:hover,\n  &:active,\n  &:focus {\n    outline: none;\n  }\n\n  &:focus {\n    border: 1px solid #737373;\n  }\n\n  &:active {\n    box-shadow: inset 0 0 1px #000000;\n  }\n\n  &:hover {\n    color: black;\n  }\n`;\n\nexport default StyledButton;\n","import styled from \"styled-components\";\nimport { useContext } from \"react\";\n\nimport { ReactComponent as BlockquoteIcon } from \"bootstrap-icons/icons/blockquote-left.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  display: inline-block;\n`;\n\nfunction Quote() {\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  return (\n    <Container>\n      <StyledButton\n        data-tooltip=\"Quote\"\n        onClick={() => {\n          const id = new Date().getTime();\n\n          addAction(\n            () =>\n              addElement(currentSlide, {\n                id: new Date().getTime(),\n                type: \"blockquote\",\n                value: \"A wise man once said...\",\n              }),\n            () => removeElement(currentSlide, id)\n          );\n        }}\n      >\n        <BlockquoteIcon />\n      </StyledButton>\n    </Container>\n  );\n}\n\nexport default Quote;\n","import styled from \"styled-components\";\nimport { useContext } from \"react\";\nimport { ReactComponent as CodeblockIcon } from \"bootstrap-icons/icons/code-slash.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\nimport { HistoryContext } from \"../../../context/history\";\n\nimport StyledButton from \"../StyledButton\";\n\nconst Container = styled.div`\n  display: inline-block;\n`;\n\nfunction Codeblock() {\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  return (\n    <Container>\n      <StyledButton\n        data-tooltip=\"Code block\"\n        title=\"Codeblock\"\n        onClick={() => {\n          const id = new Date().getTime();\n          addAction(\n            () =>\n              addElement(currentSlide, {\n                id,\n                type: \"codeblock\",\n                value: \"// insert code block here\",\n              }),\n            () => removeElement(currentSlide, id)\n          );\n        }}\n      >\n        <CodeblockIcon />\n      </StyledButton>\n    </Container>\n  );\n}\n\nexport default Codeblock;\n","import styled from \"styled-components\";\nimport { useEffect, useRef, useState, useContext } from \"react\";\nimport { ReactComponent as H1Icon } from \"bootstrap-icons/icons/type-h1.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Modal = styled.div`\n  position: absolute;\n  top: 100%;\n  z-index: 999999;\n  padding: 0.2em;\n  width: 20em;\n  line-height: 120%;\n  text-align: left;\n  margin-top: 0.1em;\n`;\n\nfunction Header() {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const [headingSelected, setHeadingSelected] = useState(false);\n\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setHeadingSelected(false);\n      }\n    }\n\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <Container ref={ref}>\n      <StyledButton\n        data-tooltip=\"Heading\"\n        onClick={() => {\n          setHeadingSelected(true);\n        }}\n      >\n        <H1Icon />\n      </StyledButton>\n      {headingSelected && (\n        <Modal>\n          <StyledButton\n            data-tooltip=\"Heading 1\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 1,\n                    value: \"Heading 1\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H1\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Heading 2\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 2,\n                    value: \"Heading 2\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H2\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Heading 3\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 3,\n                    value: \"Heading 3\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H3\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Heading 4\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 4,\n                    value: \"Heading 4\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H4\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Heading 5\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 5,\n                    value: \"Heading 5\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H5\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Heading 6\"\n            onClick={() => {\n              setHeadingSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"heading\",\n                    level: 6,\n                    value: \"Heading 6\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            H6\n          </StyledButton>\n        </Modal>\n      )}\n    </Container>\n  );\n}\n\nexport default Header;\n","import { useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport { ReactComponent as FooterIcon } from \"bootstrap-icons/icons/align-bottom.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  display: inline-block;\n`;\n\nfunction Footer() {\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  return (\n    <Container>\n      <StyledButton\n        data-tooltip=\"Footer item\"\n        onClick={() => {\n          const id = new Date().getTime();\n          addAction(\n            () =>\n              addElement(currentSlide, {\n                id,\n                type: \"footer\",\n                value: \"Made with Presentador\",\n              }),\n            () => removeElement(currentSlide, id)\n          );\n        }}\n      >\n        <FooterIcon />\n      </StyledButton>\n    </Container>\n  );\n}\n\nexport default Footer;\n","import styled from \"styled-components\";\n\nimport { useEffect, useRef, useState, useContext } from \"react\";\nimport { ReactComponent as ListUlIcon } from \"bootstrap-icons/icons/list-ul.svg\";\nimport { ReactComponent as ListOlIcon } from \"bootstrap-icons/icons/list-ol.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Modal = styled.div`\n  position: absolute;\n  top: 100%;\n  z-index: 999999;\n  padding: 0.2em;\n  width: 10em;\n  line-height: 120%;\n  text-align: left;\n  margin-top: 0.1em;\n`;\nfunction List() {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const [listSelected, setListSelected] = useState(false);\n\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setListSelected(false);\n      }\n    }\n\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <Container ref={ref}>\n      <StyledButton\n        data-tooltip=\"List\"\n        onClick={() => {\n          setListSelected(true);\n        }}\n      >\n        <ListUlIcon />\n      </StyledButton>\n      {listSelected && (\n        <Modal>\n          <StyledButton\n            data-tooltip=\"Unordered list\"\n            onClick={() => {\n              setListSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"list\",\n                    value: \"<li>Point one to make</li>\",\n                    listType: \"unordered\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            <ListUlIcon />\n          </StyledButton>\n          <StyledButton\n            data-tooltip=\"Ordered list\"\n            onClick={() => {\n              setListSelected(false);\n              const id = new Date().getTime();\n\n              addAction(\n                () =>\n                  addElement(currentSlide, {\n                    id,\n                    type: \"list\",\n                    value: \"<li>Point one to make</li>\",\n                    listType: \"ordered\",\n                  }),\n                () => removeElement(currentSlide, id)\n              );\n            }}\n          >\n            <ListOlIcon />\n          </StyledButton>\n        </Modal>\n      )}\n    </Container>\n  );\n}\n\nexport default List;\n","import { useCallback, useRef, useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { fileOpen } from \"browser-fs-access\";\n\nimport { SlidesContext } from \"../../../context/slides\";\nimport { DeckContext } from \"../../../context/deck\";\nimport { ReactComponent as ImageIcon } from \"bootstrap-icons/icons/card-image.svg\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Modal = styled.div`\n  position: absolute;\n  top: 100%;\n  z-index: 999999;\n  padding: 1em;\n  width: 15em;\n  line-height: 150%;\n  border: 1px solid #ccc;\n  background: #fff;\n  text-align: left;\n  border-radius: 3px;\n  margin-top: 0.1em;\n`;\n\nfunction Image() {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { setLoading } = useContext(DeckContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const [imageModalOpen, setImageModalOpen] = useState(false);\n\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setImageModalOpen(false);\n      }\n    }\n\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n\n  const addImageFromFile = useCallback(\n    function (file: File | null) {\n      setLoading(true);\n      const reader = new FileReader();\n      reader.onload = function (event) {\n        if (event?.target?.result) {\n          const id = new Date().getTime();\n          addAction(\n            () =>\n              addElement(currentSlide, {\n                id,\n                type: \"image\",\n                value: event?.target?.result as string,\n              }),\n            () => removeElement(currentSlide, id)\n          );\n\n          setImageModalOpen(false);\n          setLoading(false);\n        }\n      };\n      file && reader.readAsDataURL(file);\n    },\n    [\n      addElement,\n      setImageModalOpen,\n      setLoading,\n      currentSlide,\n      removeElement,\n      addAction,\n    ]\n  );\n\n  const addImageFromString = useCallback(\n    async function (content: string) {\n      try {\n        setLoading(true);\n        const url = new URL(content);\n        const response = await fetch(url.toString());\n\n        const reader = new FileReader();\n        reader.onload = function (event) {\n          if (event?.target?.result) {\n            const id = new Date().getTime();\n            addAction(\n              () =>\n                addElement(currentSlide, {\n                  id,\n                  type: \"image\",\n                  value: event?.target?.result as string,\n                }),\n              () => removeElement(currentSlide, id)\n            );\n            setImageModalOpen(false);\n            setLoading(false);\n          }\n        };\n        reader.readAsDataURL(await response.blob());\n      } catch (error) {\n        setLoading(false);\n        return false;\n      }\n    },\n    [\n      currentSlide,\n      addElement,\n      setLoading,\n      setImageModalOpen,\n      removeElement,\n      addAction,\n    ]\n  );\n\n  useEffect(() => {\n    const callback = (event: ClipboardEvent) => {\n      const items = event.clipboardData?.items || [];\n      for (const index in items) {\n        const item = items[index];\n        if (item.kind === \"string\") {\n          item.getAsString(addImageFromString);\n        }\n        if (item.kind === \"file\") {\n          addImageFromFile(item.getAsFile());\n        }\n      }\n    };\n\n    document.addEventListener(\"paste\", callback);\n    return () => document.removeEventListener(\"paste\", callback);\n  }, [addImageFromString, addImageFromFile]);\n\n  useEffect(() => {\n    const callback = (event: DragEvent) => {\n      event.preventDefault();\n\n      const items = event.dataTransfer?.items || [];\n      for (const index in items) {\n        const item = items[index];\n        if (item.kind === \"file\") {\n          addImageFromFile(item.getAsFile());\n        }\n      }\n    };\n\n    document.addEventListener(\"drop\", callback);\n    return () => document.removeEventListener(\"drop\", callback);\n  }, [addImageFromFile]);\n\n  useEffect(() => {\n    const callback = (event: DragEvent) => {\n      event.preventDefault();\n    };\n\n    document.addEventListener(\"dragover\", callback);\n    return () => document.removeEventListener(\"dragover\", callback);\n  }, []);\n\n  async function loadLocalImage(event: any) {\n    event.preventDefault();\n\n    const blob = await fileOpen({\n      mimeTypes: [\"image/*\"],\n    });\n\n    addImageFromFile(blob);\n  }\n\n  return (\n    <Container ref={ref}>\n      <StyledButton\n        data-tooltip=\"Image\"\n        onClick={() => setImageModalOpen(!imageModalOpen)}\n      >\n        <ImageIcon />\n      </StyledButton>\n      {imageModalOpen && (\n        <Modal>\n          {/* eslint-disable-next-line */}-{\" \"}\n          <a href=\"#\" onClick={loadLocalImage}>\n            Load a local file <br />\n          </a>\n          - Paste the image directly or its remote URL\n          <br />\n          - Drag and drop it as a file anywhere in the page <br />\n        </Modal>\n      )}\n    </Container>\n  );\n}\n\nexport default Image;\n","import styled from \"styled-components\";\nimport { useContext } from \"react\";\nimport { ReactComponent as ParagraphIcon } from \"bootstrap-icons/icons/text-paragraph.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  display: inline-block;\n`;\n\nfunction Paragraph() {\n  const { currentSlide, addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  return (\n    <Container>\n      <StyledButton\n        data-tooltip=\"Paragraph\"\n        onClick={() => {\n          const id = new Date().getTime();\n\n          addAction(\n            () =>\n              addElement(currentSlide, {\n                id,\n                type: \"paragraph\",\n                value:\n                  \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n              }),\n            () => removeElement(currentSlide, id)\n          );\n        }}\n      >\n        <ParagraphIcon />\n      </StyledButton>\n    </Container>\n  );\n}\n\nexport default Paragraph;\n","import { forwardRef, useContext } from \"react\";\nimport { fileSave } from \"browser-fs-access\";\nimport { ReactComponent as SaveIcon } from \"bootstrap-icons/icons/save.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\nimport { DeckContext } from \"../../../context/deck\";\n\nimport StyledButton from \"../StyledButton\";\n\nfunction Save(_: any, ref: any) {\n  const { slides } = useContext(SlidesContext);\n  const { setLoading, size, colours } = useContext(DeckContext);\n\n  async function save() {\n    setLoading(true);\n    const obj = { version: 1, slides, size, colours };\n    const blob = new Blob([JSON.stringify(obj, null, 2)], {\n      type: \"application/json\",\n    });\n    try {\n      ref.current = await fileSave(\n        blob,\n        {\n          fileName: \"presentation.prt\",\n          extensions: [\".prt\"],\n        },\n        ref.current\n      );\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <StyledButton onClick={save} data-tooltip=\"Save\">\n      <SaveIcon /> <b>{ref.current && ref.current.name}</b>\n    </StyledButton>\n  );\n}\n\nexport default forwardRef(Save);\n","import { useContext } from \"react\";\nimport { ReactComponent as UndoIcon } from \"bootstrap-icons/icons/arrow-counterclockwise.svg\";\n\nimport { HistoryContext } from \"../../../context/history\";\n\nimport StyledButton from \"../StyledButton\";\n\nfunction Undo() {\n  const { undo } = useContext(HistoryContext);\n\n  return (\n    <StyledButton data-tooltip=\"Undo\" onClick={undo}>\n      <UndoIcon />\n    </StyledButton>\n  );\n}\n\nexport default Undo;\n","import { useContext } from \"react\";\nimport { ReactComponent as RedoIcon } from \"bootstrap-icons/icons/arrow-clockwise.svg\";\n\nimport { HistoryContext } from \"../../../context/history\";\n\nimport StyledButton from \"../StyledButton\";\n\nfunction Redo() {\n  const { redo } = useContext(HistoryContext);\n\n  return (\n    <StyledButton data-tooltip=\"Redo\" onClick={redo}>\n      <RedoIcon />\n    </StyledButton>\n  );\n}\n\nexport default Redo;\n","import { forwardRef, useContext } from \"react\";\nimport { fileOpen } from \"browser-fs-access\";\nimport { ReactComponent as LoadIcon } from \"bootstrap-icons/icons/folder.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\nimport { DeckContext } from \"../../../context/deck\";\n\nimport StyledButton from \"../StyledButton\";\n\nfunction Load(_: any, ref: any) {\n  const { setSlides } = useContext(SlidesContext);\n  const { setLoading, setSize, setColours } = useContext(DeckContext);\n\n  async function load() {\n    setLoading(true);\n    try {\n      const blob = await fileOpen({\n        extensions: [\".prt\"],\n      });\n\n      ref.current = blob.handle;\n\n      const contents = await blob.text();\n      const { slides, size, colours } = JSON.parse(contents);\n      setSlides(slides);\n      setSize(size);\n      setColours(colours);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <StyledButton onClick={load} data-tooltip=\"Load\">\n      <LoadIcon />\n    </StyledButton>\n  );\n}\n\nexport default forwardRef(Load);\n","import { forwardRef, useContext } from \"react\";\nimport { ReactComponent as NewIcon } from \"bootstrap-icons/icons/file-earmark-plus.svg\";\n\nimport { SlidesContext } from \"../../../context/slides\";\n\nimport StyledButton from \"../StyledButton\";\n\nfunction New(_: any, ref: any) {\n  const { setCurrentSlide, setSlides } = useContext(SlidesContext);\n\n  async function newFile() {\n    setCurrentSlide(0);\n    ref.current = null;\n    setSlides([{ state: \"normal\", elements: [] }]);\n  }\n\n  return (\n    <StyledButton onClick={newFile} data-tooltip=\"New\">\n      <NewIcon />\n    </StyledButton>\n  );\n}\n\nexport default forwardRef(New);\n","import React, { useRef, useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { ReactComponent as GearIcon } from \"bootstrap-icons/icons/gear.svg\";\n\nimport { DeckContext, ColourLabels } from \"../../../context/deck\";\n\nimport StyledButton from \"../StyledButton\";\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Modal = styled.div`\n  position: absolute;\n  top: 100%;\n  z-index: 999999;\n  padding: 1em;\n  width: 20em;\n  line-height: 120%;\n  background: #fff;\n  border-radius: 3px;\n  margin-top: 0.1em;\n`;\n\nconst FormContainer = styled.div`\n  width: 100%;\n`;\n\nconst RowContainer = styled.div`\n  width: 100%;\n`;\nconst FieldContainer = styled.div`\n  padding-top: 1em;\n  display: block;\n  vertical-align: middle;\n`;\n\nfunction Settings() {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const { size, setSize, colours, setColours } = useContext(DeckContext);\n\n  const [modalOpen, setModalOpen] = useState(false);\n\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setModalOpen(false);\n      }\n    }\n\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n\n  function changeSize(event: any) {\n    const selectedSize = event.target.value;\n    setSize(selectedSize.split(\" - \")[0].split(\"x\"));\n  }\n\n  const sizesOptions = [\n    \"960x700 - Default\",\n    \"1024x576 - 16:9\",\n    \"1280x720 - 16:9\",\n    \"960x720 - 4:3\",\n    \"600x800 - 3:4\",\n  ];\n\n  const labelsMap: Record<ColourLabels, string> = {\n    primaryHeaderText: \"Primary header text\",\n    primaryNormalText: \"Primary normal text\",\n    secondaryHeaderText: \"Secondary header text\",\n    secondaryNormalText: \"Secondary normal text\",\n    primaryBackground: \"Primary background\",\n    secondaryBackground: \"Secondary background\",\n  };\n\n  return (\n    <Container ref={ref}>\n      <StyledButton\n        onClick={() => setModalOpen(!modalOpen)}\n        data-tooltip=\"Settings\"\n      >\n        <GearIcon />\n      </StyledButton>\n      {modalOpen && (\n        <Modal>\n          <FormContainer>\n            <RowContainer>\n              <FieldContainer>\n                <b>Size</b>\n              </FieldContainer>\n              <FieldContainer>\n                <select onChange={changeSize} defaultValue={size.join(\"x\")}>\n                  {sizesOptions.map((option, index) => (\n                    <option key={index} value={option.split(\" - \")[0]}>\n                      {option}\n                    </option>\n                  ))}\n                </select>\n              </FieldContainer>\n            </RowContainer>\n            <RowContainer>\n              <FieldContainer>\n                <b>Colours</b>\n              </FieldContainer>\n              <FieldContainer>\n                <table>\n                  {Object.entries(colours).map((item, index) => (\n                    <tr key={index}>\n                      <td width=\"100%\">{labelsMap[item[0] as ColourLabels]}</td>\n                      <td>\n                        <input\n                          type=\"color\"\n                          defaultValue={item[1]}\n                          onBlur={(e) =>\n                            setColours({\n                              ...colours,\n                              [item[0]]: e.target.value,\n                            })\n                          }\n                        />\n                      </td>\n                    </tr>\n                  ))}\n                </table>\n              </FieldContainer>\n            </RowContainer>\n          </FormContainer>\n        </Modal>\n      )}\n    </Container>\n  );\n}\n\nexport default Settings;\n","import styled from \"styled-components\";\nimport { useRef } from \"react\";\nimport { FileSystemHandle } from \"browser-fs-access\";\nimport { ReactComponent as PlayIcon } from \"bootstrap-icons/icons/play.svg\";\nimport { ReactComponent as GitHubIcon } from \"bootstrap-icons/icons/github.svg\";\nimport { ReactComponent as HelpIcon } from \"bootstrap-icons/icons/question-circle.svg\";\n\nimport StyledButton from \"./StyledButton\";\nimport Quote from \"./Buttons/Quote\";\nimport Codeblock from \"./Buttons/Codeblock\";\nimport Header from \"./Buttons/Header\";\nimport Footer from \"./Buttons/Footer\";\nimport List from \"./Buttons/List\";\nimport Image from \"./Buttons/Image\";\nimport Paragraph from \"./Buttons/Paragraph\";\nimport Save from \"./Buttons/Save\";\nimport Undo from \"./Buttons/Undo\";\nimport Redo from \"./Buttons/Redo\";\nimport Load from \"./Buttons/Load\";\nimport New from \"./Buttons/New\";\nimport Settings from \"./Buttons/Settings\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-orientation: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0.1em 0.5em;\n`;\n\nconst Left = styled.div`\n  flex: 1;\n`;\nconst Center = styled.div`\n  flex: 2;\n  text-align: center;\n`;\nconst Right = styled.div`\n  text-align: right;\n  flex: 1;\n`;\n\nconst ExternalLink = styled.a`\n  color: #aaa;\n\n  &:hover,\n  &:focus,\n  &:active {\n    outline: none;\n    color: black;\n  }\n`;\n\nconst StyledGithubIcon = styled(GitHubIcon)`\n  vertical-align: middle;\n  width: 1.5em;\n  height: 1.5em;\n  margin-right: 0.3em;\n`;\nconst StyledHelpIcon = styled(HelpIcon)`\n  vertical-align: middle;\n  width: 1.5em;\n  height: 1.5em;\n  margin-right: 0.3em;\n`;\n\nfunction Menu({ togglePresent }: { togglePresent: () => void }) {\n  const fileHandle = useRef<FileSystemHandle | null>(null);\n\n  return (\n    <Container>\n      <Left>\n        <StyledButton\n          onClick={() => {\n            togglePresent();\n          }}\n          title=\"Present\"\n          style={{\n            background: \"#15aabf\",\n            color: \"white\",\n            borderColor: \"#15aabf\",\n          }}\n          data-tooltip=\"Present\"\n        >\n          <PlayIcon />\n        </StyledButton>\n        <New ref={fileHandle} />\n        <Save ref={fileHandle} />\n        <Load ref={fileHandle} />\n        <Settings />\n        <Undo />\n        <Redo />\n      </Left>\n      <Center>\n        <>\n          <Header />\n          <Paragraph />\n          <Image />\n          <List />\n          <Quote />\n          <Footer />\n          <Codeblock />\n        </>\n      </Center>\n      <Right>\n        <ExternalLink\n          href=\"https://github.com/kbariotis/presentador.app\"\n          target=\"blank\"\n          data-tooltip=\"GitHub\"\n        >\n          <StyledGithubIcon />\n        </ExternalLink>\n        <ExternalLink\n          href=\"https://github.com/kbariotis/presentador.app/issues\"\n          target=\"blank\"\n          data-tooltip=\"GitHub Issues\"\n        >\n          <StyledHelpIcon />\n        </ExternalLink>\n      </Right>\n    </Container>\n  );\n}\n\nexport default Menu;\n","import { useRef, useEffect } from \"react\";\n\nexport default function useClickOutside(clickedOutside: () => void) {\n  const clickContainer = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    function handleClickOutside(event: any) {\n      if (\n        clickContainer.current &&\n        !clickContainer.current.contains(event.target)\n      ) {\n        clickedOutside();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [clickedOutside]);\n\n  return { clickContainer };\n}\n","import { forwardRef, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { ReactComponent as BoldIcon } from \"bootstrap-icons/icons/type-bold.svg\";\nimport { ReactComponent as ItalicIcon } from \"bootstrap-icons/icons/type-italic.svg\";\nimport { ReactComponent as LinkIcon } from \"bootstrap-icons/icons/link-45deg.svg\";\nimport { ReactComponent as CheckIcon } from \"bootstrap-icons/icons/check.svg\";\nimport { ReactComponent as CancelIcon } from \"bootstrap-icons/icons/x.svg\";\nimport rangyClassApplier from \"rangy/lib/rangy-classapplier\";\nimport rangySelectionSaveRestore from \"rangy/lib/rangy-selectionsaverestore\";\n\nconst StyledPopover = styled.div<{ left: number; top: number }>`\n  position: absolute;\n  left: ${({ left }) => left}px;\n  top: ${({ top }) => top}px;\n  transform: translate(-50%, 0);\n  z-index: 9999999999;\n  background: none;\n  font-size: 0.7em;\n  text-align: center;\n  border-radius: 3px;\n`;\n\nconst ToolButton = styled.button`\n  padding: 0.5em;\n  margin-right: 0.2em;\n  vertical-align: middle;\n`;\n\nconst LinkInput = styled.input`\n  margin-right: 0.2em;\n  vertical-align: middle;\n  padding: 0.5em;\n`;\n\nfunction EditableToolbar(_: any, ref: any) {\n  const [showLinkText, setShowLinkText] = useState(false);\n  const [textSelected, setTextSelected] = useState(false);\n  const [linkText, setLinkText] = useState(\"\");\n  const [pos, setPos] = useState([0, 0]);\n  const [selection, setSelection] = useState({});\n  const [textContent, setTextContent] = useState(\"\");\n\n  useEffect(() => {\n    const handler = () => {\n      const selection = rangySelectionSaveRestore.getSelection();\n      const textContent = selection.toString().trim();\n      setTextContent(textContent);\n      setShowLinkText(false);\n      setTextSelected(false);\n\n      if (selection.getRangeAt && selection.rangeCount) {\n        const range = selection.getAllRanges()[0].nativeRange;\n        if (range && textContent !== \"\") {\n          const rects = range.getBoundingClientRect();\n          const parentPos = ref.current.getBoundingClientRect();\n\n          setTextSelected(true);\n          setPos([\n            rects.top - parentPos.top - 40,\n            rects.left - parentPos.left + rects.width / 2,\n          ]);\n        }\n      }\n    };\n\n    const element = ref.current;\n    if (ref.current) {\n      element.addEventListener(\"mouseup\", handler);\n      element.addEventListener(\"keyup\", handler);\n\n      return () => {\n        element.removeEventListener(\"mouseup\", handler);\n        element.removeEventListener(\"keyup\", handler);\n      };\n    }\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    const handler = (event: any) => {\n      if (event.key === \"b\" && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        applyBold();\n      }\n      if (event.key === \"i\" && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        applyItalic();\n      }\n    };\n\n    const element = ref.current;\n    if (ref.current) {\n      element.addEventListener(\"keydown\", handler);\n\n      return () => {\n        element.removeEventListener(\"keydown\", handler);\n      };\n    }\n  }, []); // eslint-disable-line\n\n  function applyLink() {\n    const sel = rangySelectionSaveRestore.getSelection();\n    if (sel.anchorNode.parentNode.tagName === \"A\") {\n      const applier = (rangyClassApplier as any).createClassApplier(\"link\", {\n        elementTagName: \"a\",\n        elementAttributes: {\n          href: sel.anchorNode.parentNode.getAttribute(\"href\"),\n        },\n      });\n      if (applier.isAppliedToSelection()) {\n        applier.undoToSelection();\n      } else {\n        setShowLinkText(true);\n      }\n    } else {\n      setShowLinkText(true);\n    }\n  }\n\n  function applyItalic() {\n    const applier = (rangyClassApplier as any).createClassApplier(\"italic\");\n    applier.toggleSelection();\n  }\n\n  function applyBold() {\n    const applier = (rangyClassApplier as any).createClassApplier(\"bold\");\n    applier.toggleSelection();\n  }\n\n  if (!ref.current) {\n    return <></>;\n  }\n\n  if (textContent === \"\") {\n    return <></>;\n  }\n\n  if (!textSelected) {\n    return <></>;\n  }\n\n  return (\n    <StyledPopover top={pos[0]} left={pos[1]}>\n      {showLinkText && (\n        <>\n          <LinkInput\n            placeholder=\"https://example.com\"\n            type=\"text\"\n            onMouseDown={(e: any) => {\n              e.stopPropagation();\n              setSelection(rangySelectionSaveRestore.saveSelection());\n            }}\n            onChange={(e: any) => setLinkText(e.target.value)}\n          />\n          <ToolButton\n            data-tooltip=\"Insert\"\n            disabled={\n              !linkText.match(\n                new RegExp(\n                  // eslint-disable-next-line\n                  /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi\n                )\n              )\n            }\n            onMouseDown={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              setShowLinkText(false);\n              rangySelectionSaveRestore.restoreSelection(selection);\n              const applier = (rangyClassApplier as any).createClassApplier(\n                \"link\",\n                {\n                  elementTagName: \"a\",\n                  elementAttributes: { href: linkText },\n                }\n              );\n              applier.toggleSelection();\n            }}\n          >\n            <CheckIcon />\n          </ToolButton>\n          <ToolButton\n            data-tooltip=\"Cancel\"\n            onMouseDown={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              setShowLinkText(false);\n            }}\n          >\n            <CancelIcon />\n          </ToolButton>\n        </>\n      )}\n      {!showLinkText && (\n        <>\n          <ToolButton\n            data-tooltip=\"Link\"\n            onMouseDown={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              applyLink();\n            }}\n          >\n            <LinkIcon />\n          </ToolButton>\n          <ToolButton\n            data-tooltip=\"Bold\"\n            onMouseDown={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              applyBold();\n            }}\n          >\n            <BoldIcon />\n          </ToolButton>\n          <ToolButton\n            data-tooltip=\"Italic\"\n            onMouseDown={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              applyItalic();\n            }}\n          >\n            <ItalicIcon />\n          </ToolButton>\n        </>\n      )}\n    </StyledPopover>\n  );\n}\n\nexport default forwardRef(EditableToolbar);\n","import styled from \"styled-components\";\n\nexport const ActionsButton = styled.button`\n  padding: 0.5em;\n\n  &:hover,\n  &:active,\n  &:focus {\n    outline: none;\n  }\n\n  &:focus {\n    border: 1px solid #737373;\n  }\n\n  &:active {\n    box-shadow: inset 0 0 1px #000000;\n  }\n\n  &:hover {\n    color: black;\n  }\n`;\n\nexport const ButtonsBar = styled.div`\n  position: absolute;\n  top: -2em;\n  right: 0;\n`;\n","import React, { useCallback, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { ReactComponent as ClearFormattingIcon } from \"bootstrap-icons/icons/x.svg\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as IncreaseIcon } from \"bootstrap-icons/icons/plus.svg\";\nimport { ReactComponent as DecreaseIcon } from \"bootstrap-icons/icons/dash.svg\";\n\nimport useClickOutside from \"./hooks/clickOutside\";\nimport EditableToolbar from \"../EditableToolbar\";\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n`;\n\nconst StyledHeader = styled.div<{ level: number; selected: boolean }>`\n  line-height: 120%;\n  font-size: ${({ level }) =>\n    level === 1\n      ? \"3.5em\"\n      : level === 2\n      ? \"3.2em\"\n      : level === 3\n      ? \"2.9em\"\n      : level === 4\n      ? \"2.6em\"\n      : level === 5\n      ? \"2.3em\"\n      : \"2em\"};\n\n  padding: 0.1em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n`;\n\nfunction Header({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const editingElement = useRef<HTMLDivElement | null>(null);\n  const [selected, setSelected] = useState(false);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  const { addElement, removeElement, changeElementValue, changeHeaderSize } =\n    useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      if (editingElement.current.innerHTML !== item.value) {\n        if (editingElement.current.innerHTML === \"\") {\n          addAction(\n            () => removeElement(slideNumber, item.id),\n            () => addElement(slideNumber, item)\n          );\n        } else if (editingElement.current.innerHTML !== item.value) {\n          addAction(\n            () =>\n              editingElement.current &&\n              changeElementValue(\n                slideNumber,\n                item.id,\n                editingElement.current.innerHTML\n              ),\n            () => changeElementValue(slideNumber, item.id, item.value)\n          );\n        }\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    addElement,\n    changeElementValue,\n    item,\n    slideNumber,\n    addAction,\n  ]);\n\n  function checkMouseDown(event: React.KeyboardEvent<HTMLDivElement>) {\n    event.stopPropagation();\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      finishEditing();\n    }\n  }\n\n  const Tag = `h${item.level}` as \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n\n  function increase(e: any) {\n    e.stopPropagation();\n    changeHeaderSize(slideNumber, item.id, (item.level as number) - 1);\n  }\n  function decrease(e: any) {\n    e.stopPropagation();\n    changeHeaderSize(slideNumber, item.id, (item.level as number) + 1);\n  }\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (\n          !event.relatedTarget ||\n          !event.currentTarget.contains(event.relatedTarget as Node)\n        ) {\n          finishEditing();\n        }\n      }}\n    >\n      {selected && <EditableToolbar ref={editingElement} />}\n      <StyledHeader\n        as={Tag}\n        level={item.level as number}\n        selected={selected}\n        ref={editingElement}\n        onKeyDown={checkMouseDown}\n        onMouseDown={select}\n        dangerouslySetInnerHTML={{\n          __html: sanitizeHtml(item.value, {\n            allowedTags: [\"span\", \"a\"],\n            allowedAttributes: { a: [\"href\"], span: [\"class\"] },\n          }),\n        }}\n      />\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton\n            data-tooltip=\"Increase size\"\n            onClick={increase}\n            disabled={item.level === 1}\n          >\n            <IncreaseIcon />\n          </ActionsButton>\n          <ActionsButton\n            data-tooltip=\"Decrease size\"\n            onClick={decrease}\n            disabled={item.level === 6}\n          >\n            <DecreaseIcon />\n          </ActionsButton>\n          <ActionsButton\n            data-tooltip=\"Clear formatting\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (editingElement.current) {\n                const div = document.createElement(\"div\");\n                div.innerHTML = editingElement.current.innerHTML;\n                editingElement.current.innerHTML = div.textContent as string;\n              }\n            }}\n          >\n            <ClearFormattingIcon />\n          </ActionsButton>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nHeader.displayName = \"Header\";\n\nexport default Header;\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useContext,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport hightlight from \"highlight.js\";\n\nimport \"highlight.js/styles/github.css\";\n\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport useClickOutside from \"./hooks/clickOutside\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\n\nconst Container = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n`;\n\nconst StyledCode = styled.code<{ selected: boolean }>`\n  display: block;\n  width: 100%;\n  font-size: 1.3em;\n  padding: 0.5em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n  line-height: 1.4em;\n  white-space: wrap;\n`;\n\nfunction Codeblock({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const [selected, setSelected] = useState(false);\n  const editingElement = useRef<HTMLDivElement | null>(null);\n\n  const { removeElement, changeElementValue } = useContext(SlidesContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      hightlight.highlightBlock(editingElement.current);\n      if (editingElement.current.innerHTML === \"\") {\n        removeElement(slideNumber, item.id);\n      } else if (editingElement.current.innerHTML !== item.value) {\n        changeElementValue(\n          slideNumber,\n          item.id,\n          editingElement.current.innerHTML\n        );\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    changeElementValue,\n    item,\n    slideNumber,\n  ]);\n\n  function remove() {\n    removeElement(slideNumber, item.id);\n  }\n\n  useEffect(() => {\n    if (editingElement.current) {\n      hightlight.highlightBlock(editingElement.current);\n    }\n  }, []);\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (\n          !event.relatedTarget ||\n          !event.currentTarget.contains(event.relatedTarget as Node)\n        ) {\n          finishEditing();\n        }\n      }}\n    >\n      <pre>\n        <StyledCode\n          selected={selected}\n          onKeyDown={(event) => event.stopPropagation()}\n          ref={editingElement}\n          onMouseDown={() => {\n            if (!present) {\n              setSelected(true);\n              editHeading();\n            }\n          }}\n          dangerouslySetInnerHTML={{\n            __html: item.value,\n          }}\n        />\n      </pre>\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nCodeblock.displayName = \"Codeblock\";\n\nexport default Codeblock;\n","import React, { useCallback, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as ClearFormattingIcon } from \"bootstrap-icons/icons/x.svg\";\n\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport useClickOutside from \"./hooks/clickOutside\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\nimport EditableToolbar from \"../EditableToolbar\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n`;\n\nconst StyledParagraph = styled.p<{ selected: boolean }>`\n  font-size: 1.3em;\n  padding: 0.1em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n  line-height: 1.4em;\n\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n`;\n\nfunction Paragraph({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const [selected, setSelected] = useState(false);\n  const editingElement = useRef<HTMLDivElement | null>(null);\n\n  const { addElement, removeElement, changeElementValue } =\n    useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      if (editingElement.current.innerHTML === \"\") {\n        addAction(\n          () => removeElement(slideNumber, item.id),\n          () => addElement(slideNumber, item)\n        );\n      } else if (editingElement.current.innerHTML !== item.value) {\n        addAction(\n          () =>\n            editingElement.current &&\n            changeElementValue(\n              slideNumber,\n              item.id,\n              editingElement.current.innerHTML\n            ),\n          () => changeElementValue(slideNumber, item.id, item.value)\n        );\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    addElement,\n    addAction,\n    changeElementValue,\n    item,\n    slideNumber,\n  ]);\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  function checkMouseDown(event: React.KeyboardEvent<HTMLDivElement>) {\n    event.stopPropagation();\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      finishEditing();\n    }\n  }\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (!event.currentTarget.contains(event.relatedTarget as Node)) {\n          finishEditing();\n        }\n      }}\n    >\n      {selected && <EditableToolbar ref={editingElement} />}\n      <StyledParagraph\n        selected={selected}\n        onKeyDown={checkMouseDown}\n        ref={editingElement}\n        onMouseDown={() => {\n          if (!present) {\n            setSelected(true);\n            editHeading();\n          }\n        }}\n        dangerouslySetInnerHTML={{\n          __html: sanitizeHtml(item.value, {\n            allowedTags: [\"span\", \"a\"],\n            allowedAttributes: { a: [\"href\"], span: [\"class\"] },\n          }),\n        }}\n      />\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton\n            data-tooltip=\"Clear formatting\"\n            onMouseDown={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (editingElement.current) {\n                const div = document.createElement(\"div\");\n                div.innerHTML = editingElement.current.innerHTML;\n                editingElement.current.innerHTML = div.textContent as string;\n              }\n            }}\n          >\n            <ClearFormattingIcon />\n          </ActionsButton>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nParagraph.displayName = \"Paragraph\";\n\nexport default Paragraph;\n","import React, { useLayoutEffect, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\n\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport useClickOutside from \"./hooks/clickOutside\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { HistoryContext } from \"../../../context/history\";\nimport { Element } from \"../../../types\";\n\nfunction getImageDimensions(url: string): Promise<[number, number]> {\n  return new Promise((resolve, reject) => {\n    let img = new Image();\n    img.onload = () => resolve([img.width, img.height]);\n    img.onerror = () => reject();\n    img.src = url;\n  });\n}\n\nconst StyledImage = styled.img<{ selected: boolean }>`\n  font-size: 1.3em;\n  padding: 0.5em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nconst InnerContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nfunction Image2({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const element = useRef<HTMLImageElement | null>(null);\n  const [selected, setSelected] = useState(false);\n  const [style, setStyle] = useState({});\n\n  const { addElement, removeElement } = useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      setSelected(false);\n    }\n  });\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  async function getSize() {\n    const imageDimensions = await getImageDimensions(item.value);\n\n    if (clickContainer.current) {\n      const maxWidth = clickContainer.current.clientWidth;\n      const maxHeight = clickContainer.current.clientHeight;\n\n      const ratio = Math.min(\n        1,\n        maxWidth / imageDimensions[0],\n        maxHeight / imageDimensions[1]\n      );\n\n      setStyle({\n        width: `${imageDimensions[0] * ratio}px`,\n        height: `${imageDimensions[1] * ratio}px`,\n      });\n    }\n  }\n\n  useLayoutEffect(() => {\n    if (clickContainer.current) {\n      getSize();\n    }\n  }, []); // eslint-disable-line\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n    }\n  }\n\n  return (\n    <Container\n      style={\n        \"width\" in style\n          ? { height: \"auto\", width: \"auto\" }\n          : { height: \"100%\", width: \"100%\" }\n      }\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (!event.currentTarget.contains(event.relatedTarget as Node)) {\n          setSelected(false);\n        }\n      }}\n    >\n      <InnerContainer>\n        {\"width\" in style && (\n          <StyledImage\n            style={style}\n            onMouseDown={select}\n            selected={selected}\n            src={item.value}\n            alt={\"Image\"}\n            ref={element}\n          />\n        )}\n        {selected && (\n          <ButtonsBar>\n            <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n              <TrashIcon />\n            </ActionsButton>\n          </ButtonsBar>\n        )}\n      </InnerContainer>\n    </Container>\n  );\n}\n\nImage2.displayName = \"Image\";\n\nexport default Image2;\n","import { useCallback, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as ClearFormattingIcon } from \"bootstrap-icons/icons/x.svg\";\n\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport useClickOutside from \"./hooks/clickOutside\";\nimport EditableToolbar from \"../EditableToolbar\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n`;\n\nconst StyledList = styled.div<{\n  listType?: \"ordered\" | \"unordered\";\n  selected: boolean;\n}>`\n  white-space: pre-wrap;\n  font-size: 1.3em;\n  padding: 0.1em;\n  padding-left: 1em; // fix lists' left padding\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n\n  line-height: 1.4em;\n\n  li {\n    padding-bottom: 0.5em;\n    list-style-type: ${({ listType }) =>\n      listType === \"ordered\" ? \"decimal\" : \"circle\"};\n  }\n\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n`;\n\nfunction List({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const [selected, setSelected] = useState(false);\n  const editingElement = useRef<HTMLUListElement | null>(null);\n\n  const { addElement, removeElement, changeElementValue } =\n    useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      if (editingElement.current.innerHTML === \"\") {\n        addAction(\n          () => removeElement(slideNumber, item.id),\n          () => addElement(slideNumber, item)\n        );\n      } else if (editingElement.current.innerHTML !== item.value) {\n        addAction(\n          () =>\n            editingElement.current &&\n            changeElementValue(\n              slideNumber,\n              item.id,\n              editingElement.current.innerHTML\n            ),\n          () => changeElementValue(slideNumber, item.id, item.value)\n        );\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    addElement,\n    addAction,\n    changeElementValue,\n    item,\n    slideNumber,\n  ]);\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (\n          !event.relatedTarget ||\n          !event.currentTarget.contains(event.relatedTarget as Node)\n        ) {\n          finishEditing();\n        }\n      }}\n    >\n      {selected && <EditableToolbar ref={editingElement} />}\n      <StyledList\n        listType={item.listType}\n        as={item.listType === \"ordered\" ? \"ol\" : \"ul\"}\n        onMouseDown={() => {\n          if (!present) {\n            setSelected(true);\n            editHeading();\n          }\n        }}\n        onKeyDown={(event: any) => event.stopPropagation()}\n        selected={selected}\n        ref={editingElement}\n        dangerouslySetInnerHTML={{\n          __html: sanitizeHtml(item.value, {\n            allowedTags: [\"span\", \"a\", \"li\"],\n            allowedAttributes: { a: [\"href\"], span: [\"class\"] },\n          }),\n        }}\n      />\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton\n            data-tooltip=\"Clear formatting\"\n            onMouseDown={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (editingElement.current) {\n                editingElement.current.innerHTML = sanitizeHtml(\n                  editingElement.current.innerHTML,\n                  { allowedTags: [\"li\"] }\n                );\n              }\n            }}\n          >\n            <ClearFormattingIcon />\n          </ActionsButton>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nList.displayName = \"List\";\n\nexport default List;\n","import React, { useCallback, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as ClearFormattingIcon } from \"bootstrap-icons/icons/x.svg\";\n\nimport useClickOutside from \"./hooks/clickOutside\";\nimport EditableToolbar from \"../EditableToolbar\";\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n`;\n\nconst StyledBlockquote = styled.blockquote<{ selected: boolean }>`\n  font-size: 1.6em;\n  line-height: 1.4em;\n  padding: 1em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n  quotes: \"\" \"\" \"\" \"\";\n\n  &:before {\n    color: #ccc;\n    content: open-quote;\n    font-size: 4em;\n    line-height: 0.1em;\n    margin-right: 0.25em;\n    vertical-align: -0.4em;\n  }\n\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n`;\n\nfunction Blockquote({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const [selected, setSelected] = useState(false);\n  const editingElement = useRef<HTMLDivElement | null>(null);\n\n  const { addElement, removeElement, changeElementValue } =\n    useContext(SlidesContext);\n  const { addAction } = useContext(HistoryContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      if (editingElement.current.innerHTML === \"\") {\n        addAction(\n          () => removeElement(slideNumber, item.id),\n          () => addElement(slideNumber, item)\n        );\n      } else if (editingElement.current.innerHTML !== item.value) {\n        addAction(\n          () =>\n            editingElement.current &&\n            changeElementValue(\n              slideNumber,\n              item.id,\n              editingElement.current.innerHTML\n            ),\n          () => changeElementValue(slideNumber, item.id, item.value)\n        );\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    addElement,\n    addAction,\n    changeElementValue,\n    item,\n    slideNumber,\n  ]);\n\n  function checkMouseDown(event: React.KeyboardEvent<HTMLDivElement>) {\n    event.stopPropagation();\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      finishEditing();\n    }\n  }\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (\n          !event.relatedTarget ||\n          !event.currentTarget.contains(event.relatedTarget as Node)\n        ) {\n          finishEditing();\n        }\n      }}\n    >\n      {selected && <EditableToolbar ref={editingElement} />}\n      <StyledBlockquote\n        selected={selected}\n        onKeyDown={checkMouseDown}\n        ref={editingElement}\n        onMouseDown={() => {\n          if (!present) {\n            setSelected(true);\n            editHeading();\n          }\n        }}\n        dangerouslySetInnerHTML={{\n          __html: sanitizeHtml(item.value, {\n            allowedTags: [\"span\", \"a\"],\n            allowedAttributes: { a: [\"href\"], span: [\"class\"] },\n          }),\n        }}\n      />\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton\n            data-tooltip=\"Clear formatting\"\n            onMouseDown={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (editingElement.current) {\n                const div = document.createElement(\"div\");\n                div.innerHTML = editingElement.current.innerHTML;\n                editingElement.current.innerHTML = div.textContent as string;\n              }\n            }}\n          >\n            <ClearFormattingIcon />\n          </ActionsButton>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nBlockquote.displayName = \"Blockquote\";\n\nexport default Blockquote;\n","import React, { useCallback, useRef, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as ClearFormattingIcon } from \"bootstrap-icons/icons/x.svg\";\n\nimport EditableToolbar from \"../EditableToolbar\";\n\nimport { ActionsButton, ButtonsBar } from \"../ActionsButton\";\nimport useClickOutside from \"./hooks/clickOutside\";\nimport { SlidesContext } from \"../../../context/slides\";\nimport { Element } from \"../../../types\";\nimport { HistoryContext } from \"../../../context/history\";\n\nconst Container = styled.div`\n  position: relative;\n  flex: 1;\n\n  text-align: center;\n\n  &:last-child {\n    text-align: right;\n  }\n  &:first-child {\n    text-align: left;\n  }\n`;\n\nconst StyledFooterItem = styled.div<{ selected: boolean }>`\n  font-size: 0.9em;\n  line-height: 1.4em;\n  padding: 0.5em;\n  border: 2px solid\n    ${({ selected }) => (selected ? \"#15aabf\" : \"rgba(0, 0, 0, 0)\")};\n  color: ${({ theme }) => theme.colours.secondaryNormalText};\n\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n`;\n\nfunction FooterItem({\n  slideNumber,\n  item,\n  present,\n}: {\n  present: boolean;\n  slideNumber: number;\n  item: Element;\n}) {\n  const [selected, setSelected] = useState(false);\n  const editingElement = useRef<HTMLDivElement | null>(null);\n\n  const { addElement, removeElement, changeElementValue } = useContext(\n    SlidesContext\n  );\n  const { addAction } = useContext(HistoryContext);\n\n  const { clickContainer } = useClickOutside(() => {\n    if (selected) {\n      finishEditing();\n    }\n  });\n\n  function editHeading() {\n    if (editingElement.current) {\n      if (editingElement.current.getAttribute(\"contenteditable\") !== \"true\") {\n        editingElement.current.setAttribute(\"contenteditable\", \"true\");\n        editingElement.current.focus();\n      }\n    }\n  }\n\n  const finishEditing = useCallback(() => {\n    if (editingElement.current) {\n      editingElement.current.setAttribute(\"contenteditable\", \"false\");\n      setSelected(false);\n      if (editingElement.current.innerHTML === \"\") {\n        addAction(\n          () => removeElement(slideNumber, item.id),\n          () => addElement(slideNumber, item)\n        );\n      } else if (editingElement.current.innerHTML !== item.value) {\n        addAction(\n          () =>\n            editingElement.current &&\n            changeElementValue(\n              slideNumber,\n              item.id,\n              editingElement.current.innerHTML\n            ),\n          () => changeElementValue(slideNumber, item.id, item.value)\n        );\n      }\n    }\n  }, [\n    editingElement,\n    setSelected,\n    removeElement,\n    addElement,\n    addAction,\n    changeElementValue,\n    item,\n    slideNumber,\n  ]);\n\n  function checkMouseDown(event: React.KeyboardEvent<HTMLDivElement>) {\n    event.stopPropagation();\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      finishEditing();\n    }\n  }\n\n  function remove() {\n    addAction(\n      () => removeElement(slideNumber, item.id),\n      () => addElement(slideNumber, item)\n    );\n  }\n\n  function select() {\n    if (!present && !selected) {\n      setSelected(true);\n      editHeading();\n    }\n  }\n\n  return (\n    <Container\n      ref={clickContainer}\n      tabIndex={0}\n      onFocus={select}\n      onBlur={(event) => {\n        if (\n          !event.relatedTarget ||\n          !event.currentTarget.contains(event.relatedTarget as Node)\n        ) {\n          finishEditing();\n        }\n      }}\n    >\n      {selected && <EditableToolbar ref={editingElement} />}\n      <StyledFooterItem\n        selected={selected}\n        onKeyDown={checkMouseDown}\n        ref={editingElement}\n        onMouseDown={() => {\n          if (!present) {\n            setSelected(true);\n            editHeading();\n          }\n        }}\n        dangerouslySetInnerHTML={{\n          __html: sanitizeHtml(item.value, {\n            allowedTags: [\"span\", \"a\"],\n            allowedAttributes: { a: [\"href\"], span: [\"class\"] },\n          }),\n        }}\n      />\n      {selected && (\n        <ButtonsBar>\n          <ActionsButton\n            data-tooltip=\"Clear formatting\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              if (editingElement.current) {\n                const div = document.createElement(\"div\");\n                div.innerHTML = editingElement.current.innerHTML;\n                editingElement.current.innerHTML = div.textContent as string;\n              }\n            }}\n          >\n            <ClearFormattingIcon />\n          </ActionsButton>\n          <ActionsButton data-tooltip=\"Remove\" onClick={remove}>\n            <TrashIcon />\n          </ActionsButton>\n        </ButtonsBar>\n      )}\n    </Container>\n  );\n}\n\nFooterItem.displayName = \"FooterItem\";\n\nexport default FooterItem;\n","import { useContext } from \"react\";\nimport styled, { ThemeProvider } from \"styled-components\";\n\nimport { SlidesContext } from \"../../context/slides\";\nimport { DeckContext } from \"../../context/deck\";\n\nimport Header from \"./elements/Header\";\nimport Codeblock from \"./elements/Codeblock\";\nimport Paragraph from \"./elements/Paragraph\";\nimport Image from \"./elements/Image\";\nimport List from \"./elements/List\";\nimport Blockquote from \"./elements/Blockquote\";\nimport FooterItem from \"./elements/FooterItem\";\n\nimport { renderersMap } from \"../../renderers\";\n\nconst SizeWrapper = styled.div<{\n  scaleSize: number;\n  width: number;\n  height: number;\n}>`\n  width: ${({ width }) => width}px;\n  height: ${({ height }) => height}px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) ${({ scaleSize }) => `scale(${scaleSize})`};\n`;\n\nconst StyledSlide = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: white;\n  width: 100%;\n  height: 100%;\n\n  white-space: normal;\n\n  a {\n    color: #51c2f7;\n  }\n\n  *:focus {\n    outline: none;\n  }\n`;\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n`;\n\nfunction Slide({\n  present,\n  scale,\n  slideNumber,\n}: {\n  present: boolean;\n  scale: number;\n  slideNumber: number;\n}) {\n  const { slides } = useContext(SlidesContext);\n  const { colours, size } = useContext(DeckContext);\n  const currentSlide = slideNumber;\n\n  const slide = slides[currentSlide];\n  const Wrapper = renderersMap[slide.state];\n\n  return (\n    <>\n      <ThemeProvider theme={{ colours }}>\n        <SizeWrapper scaleSize={scale} width={size[0]} height={size[1]}>\n          <StyledSlide className={slide.state}>\n            <Wrapper>\n              {slide.elements\n                .filter((item) => item.type !== \"footer\")\n                .map((item) => {\n                  switch (item.type) {\n                    case \"heading\": {\n                      return (\n                        <Header\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    case \"paragraph\": {\n                      return (\n                        <Paragraph\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    case \"image\": {\n                      return (\n                        <Image\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    case \"list\": {\n                      return (\n                        <List\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    case \"blockquote\": {\n                      return (\n                        <Blockquote\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    case \"codeblock\": {\n                      return (\n                        <Codeblock\n                          present={present}\n                          slideNumber={currentSlide}\n                          key={item.id}\n                          item={item}\n                        />\n                      );\n                    }\n                    default: {\n                      return <></>;\n                    }\n                  }\n                })}\n            </Wrapper>\n            <Footer>\n              {slide.elements\n                .filter((item) => item.type === \"footer\")\n                .map((item) => (\n                  <FooterItem\n                    present={present}\n                    key={item.id}\n                    item={item}\n                    slideNumber={currentSlide}\n                  />\n                ))}\n            </Footer>\n          </StyledSlide>\n        </SizeWrapper>\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default Slide;\n","import { useContext, useEffect, useCallback, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nimport { ReactComponent as TrashIcon } from \"bootstrap-icons/icons/trash.svg\";\nimport { ReactComponent as AddIcon } from \"bootstrap-icons/icons/plus.svg\";\n\nimport Slide from \"../Slide/Slide\";\n\nimport { SlidesContext } from \"../../context/slides\";\nimport { DeckContext } from \"../../context/deck\";\nimport { HistoryContext } from \"../../context/history\";\n\nconst Container = styled.div<{\n  width: number;\n  height: number;\n  active: boolean;\n}>`\n  position: relative;\n  display: inline-block;\n  height: ${({ height }) => height + 2}px;\n  width: ${({ width }) => width + 2}px;\n  vertical-align: middle;\n  border: ${({ active }) => (active ? \"1px solid #15aabf\" : \"1px solid #fff\")};\n  cursor: pointer;\n`;\n\nconst StyledRemoveButton = styled.button`\n  padding: 0.3em;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n`;\nconst StyledAddButton = styled.button`\n  padding: 0.3em;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 9999;\n`;\n\nfunction Thumbnail({ active, number }: { active: boolean; number: number }) {\n  const {\n    setCurrentSlide,\n    setSlides,\n    slides,\n    addSlide,\n    removeSlide,\n  } = useContext(SlidesContext);\n  const { size } = useContext(DeckContext);\n  const { addAction } = useContext(HistoryContext);\n  const [hover, setHover] = useState(false);\n\n  // Scale slides dimensions down to become a thumbnail\n  const thumbnailWidth = size[0] * 0.15;\n  const thumbnailHeight = size[1] * 0.15;\n\n  // scale to fit window width and/or height\n  const getScale = useCallback(\n    () => Math.min(thumbnailWidth / size[0], thumbnailHeight / size[1]),\n    [size, thumbnailWidth, thumbnailHeight]\n  );\n\n  const [scale, setScale] = useState(getScale());\n\n  useEffect(() => {\n    function updateSize() {\n      const scale = getScale();\n      setScale(scale);\n    }\n\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, [setScale, size, getScale]);\n\n  return (\n    <Draggable key={number} draggableId={`${number}`} index={number}>\n      {(provided) => (\n        <Container\n          width={thumbnailWidth}\n          height={thumbnailHeight}\n          active={active}\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          onMouseEnter={() => setHover(true)}\n          onFocus={() => setHover(true)}\n          onMouseLeave={() => setHover(false)}\n          onKeyDown={(event) => {\n            if (event.key === \"Enter\") {\n              setCurrentSlide(number);\n            }\n          }}\n          onBlur={(event) => {\n            if (\n              !event.currentTarget.contains(event.relatedTarget as Node) ||\n              !event.relatedTarget\n            ) {\n              setHover(false);\n            }\n          }}\n          onClick={() => setCurrentSlide(number)}\n        >\n          <Slide slideNumber={number} present={true} scale={scale} />\n          {hover && (\n            <>\n              {slides.length > 1 && (\n                <StyledRemoveButton\n                  onClick={(event) => {\n                    event.stopPropagation();\n                    addAction(\n                      () => removeSlide(number),\n                      () => setSlides(slides)\n                    );\n                  }}\n                >\n                  <TrashIcon />\n                </StyledRemoveButton>\n              )}\n              <StyledAddButton\n                onClick={(event) => {\n                  event.stopPropagation();\n\n                  addAction(\n                    () => addSlide(number + 1),\n                    () => removeSlide(number + 1)\n                  );\n                }}\n              >\n                <AddIcon />\n              </StyledAddButton>\n            </>\n          )}\n        </Container>\n      )}\n    </Draggable>\n  );\n}\n\nexport default Thumbnail;\n","import styled from \"styled-components\";\nimport { useContext } from \"react\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\n\nimport { SlidesContext } from \"../../context/slides\";\n\nimport Thumbnail from \"./Thumbnail\";\nimport { HistoryContext } from \"../../context/history\";\n\nconst Container = styled.div`\n  overflow-y: scroll;\n  white-space: nowrap;\n`;\n\nfunction ThumbnailsBar() {\n  const { currentSlide, setCurrentSlide, slides, setSlides } = useContext(\n    SlidesContext\n  );\n  const { addAction } = useContext(HistoryContext);\n\n  function reorder(array: any[], source: number, destination: number) {\n    const beforeSource = array.slice(0, source);\n    const sourceItem = array.slice(source, source + 1);\n    const afterSource = array.slice(source + 1);\n    const arrayWithoutSource = [...beforeSource, ...afterSource];\n\n    const first = arrayWithoutSource.slice(0, destination);\n    const rest = arrayWithoutSource.slice(destination);\n\n    return [...first, ...sourceItem, ...rest];\n  }\n\n  return (\n    <>\n      <DragDropContext\n        onDragEnd={(result) => {\n          if (!result.destination) return;\n          const source = result.source.index;\n          const destination = result.destination.index;\n          addAction(\n            () => {\n              setSlides(reorder(slides, source, destination));\n              setCurrentSlide(destination);\n            },\n            () => {\n              setSlides(slides);\n              setCurrentSlide(currentSlide);\n            }\n          );\n        }}\n      >\n        <Droppable droppableId=\"thumbnails\" direction=\"horizontal\">\n          {(provided: any) => (\n            <Container {...provided.droppableProps} ref={provided.innerRef}>\n              {slides.map((item, index) => (\n                <Thumbnail\n                  key={index}\n                  number={index}\n                  active={currentSlide === index}\n                />\n              ))}\n              {provided.placeholder}\n            </Container>\n          )}\n        </Droppable>\n      </DragDropContext>\n    </>\n  );\n}\n\nexport default ThumbnailsBar;\n","import { useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport { SlidesContext } from \"../../context/slides\";\n\nimport { ReactComponent as LeftIcon } from \"bootstrap-icons/icons/chevron-left.svg\";\nimport { ReactComponent as RightIcon } from \"bootstrap-icons/icons/chevron-right.svg\";\n\nconst InnerContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\nconst LeftContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: -50px;\n  color: rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n`;\nconst RightContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  right: -50px;\n  color: rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n`;\n\nfunction ArraysWrapper() {\n  const { currentSlide, setCurrentSlide, slides } = useContext(SlidesContext);\n\n  return (\n    <>\n      <InnerContainer>\n        <LeftContainer>\n          {currentSlide !== 0 && (\n            <LeftIcon onClick={() => setCurrentSlide(currentSlide - 1)} />\n          )}\n        </LeftContainer>\n        <RightContainer>\n          {currentSlide !== slides.length - 1 && (\n            <RightIcon onClick={() => setCurrentSlide(currentSlide + 1)} />\n          )}\n        </RightContainer>\n      </InnerContainer>\n    </>\n  );\n}\n\nexport default ArraysWrapper;\n","import { useCallback, useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport { DeckContext } from \"../../context/deck\";\nimport { SlidesContext } from \"../../context/slides\";\n\nimport ArraysWrapper from \"./ArraysWrapper\";\nimport Slide from \"./Slide\";\n\nconst SizeWrapper = styled.div<{\n  scaleSize: number;\n  width: number;\n  height: number;\n}>`\n  width: ${({ width }) => width}px;\n  height: ${({ height }) => height}px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) ${({ scaleSize }) => `scale(${scaleSize})`};\n`;\n\nfunction SlideWrapper() {\n  const { currentSlide } = useContext(SlidesContext);\n  const { present, size } = useContext(DeckContext);\n\n  // scale to fit window width and/or height\n  const getScale = useCallback(\n    () =>\n      Math.min(\n        (!present\n          ? window.innerWidth - window.innerWidth * 0.25\n          : window.innerWidth) / size[0],\n        (!present\n          ? window.innerHeight - window.innerHeight * 0.25\n          : window.innerHeight) / size[1]\n      ),\n    [present, size]\n  );\n\n  const [scale, setScale] = useState(getScale());\n\n  useEffect(() => {\n    function updateSize() {\n      const scale = getScale();\n      setScale(scale);\n    }\n\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, [setScale, size, getScale]);\n\n  useEffect(() => {\n    const scale = getScale();\n    setScale(scale);\n  }, [setScale, present, getScale]);\n\n  return (\n    <>\n      <SizeWrapper scaleSize={scale} width={size[0]} height={size[1]}>\n        <ArraysWrapper />\n      </SizeWrapper>\n      <Slide slideNumber={currentSlide} scale={scale} present={false} />\n    </>\n  );\n}\n\nexport default SlideWrapper;\n","import { useContext } from \"react\";\n\nimport styled from \"styled-components\";\n\nimport { DeckContext } from \"../context/deck\";\n\nconst colours = [\n  \"#e3fafc\",\n  \"#c5f6fa\",\n  \"#99e9f2\",\n  \"#66d9e8\",\n  \"#3bc9db\",\n  \"#22b8cf\",\n  \"#15aabf\",\n  \"#1098ad\",\n  \"#0c8599\",\n  \"#0b7285\",\n];\n\nconst StyledLoadingBar = styled.div<{ loading: boolean }>`\n  flex: 1;\n  max-height: 2px;\n  height: 2px;\n  width: 100%;\n  ${({ loading }) =>\n    loading\n      ? `background-image: linear-gradient(to right, ${colours.join(\",\")})`\n      : \"background: #e3fafc\"};\n  animation: ${({ loading }) =>\n    loading ? \"colorAnimation 0.7s infinite\" : \"none\"};\n\n  @keyframes colorAnimation {\n    ${colours\n      .reduce(\n        (initial, _, index) => {\n          const current = initial[index];\n          const first = current.slice(0, -1);\n          const last = current.slice(-1);\n          return [...initial, [...last, ...first]];\n        },\n        [colours]\n      )\n      .map(\n        (item, index) => `\n    ${(100 * index) / colours.length}% {\n      background-image: linear-gradient(\n        to right,\n        ${item.join(\",\")}\n      );\n    }\n    `\n      )}\n  }\n`;\n\nfunction LoadingBar() {\n  const { loading } = useContext(DeckContext);\n  return <StyledLoadingBar loading={loading} />;\n}\n\nexport default LoadingBar;\n","import screenfull from \"screenfull\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport { SlidesContext, useSlidesState } from \"../context/slides\";\nimport { DeckContext, useDeckState } from \"../context/deck\";\nimport { HistoryContext, useHistoryState } from \"../context/history\";\n\nimport Menu from \"./Menu/Menu\";\nimport ThumbnailsBar from \"./Thumbnails/ThumbnailsBar\";\nimport Slide from \"./Slide/SlideWrapper\";\nimport LoadingBar from \"./LoadingBar\";\n\nconst Wrapper = styled.div`\n  background: #eee;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst SlideWrapper = styled.div`\n  flex: 1;\n`;\n\nfunction App() {\n  const {\n    slides,\n    setSlides,\n    addElement,\n    removeSlide,\n    removeElement,\n    changeElementValue,\n    changeHeaderSize,\n    addSlide,\n    currentSlide,\n    setCurrentSlide,\n  } = useSlidesState();\n\n  const { addAction, undo, redo } = useHistoryState();\n  const {\n    present,\n    setPresent,\n    size,\n    setSize,\n    loading,\n    setLoading,\n    colours,\n    setColours,\n  } = useDeckState();\n\n  useEffect(() => {\n    const callback = () => {\n      if (screenfull.isEnabled) {\n        if (!screenfull.isFullscreen) {\n          setPresent(false);\n        }\n      }\n    };\n    if (screenfull.isEnabled) {\n      screenfull.on(\"change\", callback);\n    }\n    const unsubscribe = () => {\n      if (screenfull.isEnabled) {\n        screenfull.off(\"change\", callback);\n      }\n    };\n    return unsubscribe;\n  }, [present, setPresent]);\n\n  useEffect(() => {\n    const callback = (event: any) => {\n      if (event.code === \"ArrowLeft\") {\n        setCurrentSlide(currentSlide === 0 ? 0 : currentSlide - 1);\n      }\n      if (event.code === \"ArrowRight\") {\n        const totalSlides = slides.length;\n        setCurrentSlide(\n          currentSlide === totalSlides - 1 ? currentSlide : currentSlide + 1\n        );\n      }\n      if (present && event.code === \"Space\") {\n        const totalSlides = slides.length;\n        setCurrentSlide(\n          currentSlide === totalSlides - 1 ? currentSlide : currentSlide + 1\n        );\n      }\n    };\n\n    window.addEventListener(\"keydown\", callback);\n\n    return () => window.removeEventListener(\"keydown\", callback);\n  }, [currentSlide, slides, setCurrentSlide, present]);\n\n  useEffect(() => {\n    function callback(event: any) {\n      if (event.metaKey === true && event.key === \"z\") {\n        if (event.shiftKey === true) {\n          redo();\n        } else {\n          undo();\n        }\n      }\n    }\n    document.addEventListener(\"keydown\", callback);\n    return () => document.removeEventListener(\"keydown\", callback);\n  }, [redo, undo]);\n\n  return (\n    <HistoryContext.Provider value={{ addAction, undo, redo }}>\n      <DeckContext.Provider\n        value={{\n          colours,\n          setColours,\n          loading,\n          setLoading,\n          present,\n          setPresent,\n          size,\n          setSize,\n        }}\n      >\n        <SlidesContext.Provider\n          value={{\n            currentSlide,\n            setCurrentSlide,\n            slides,\n            setSlides,\n            addElement,\n            removeElement,\n            changeElementValue,\n            changeHeaderSize,\n            removeSlide,\n            addSlide,\n          }}\n        >\n          <Wrapper>\n            <LoadingBar />\n            {!present && (\n              <Menu\n                togglePresent={() => {\n                  setPresent(!present);\n                  if (screenfull.isEnabled) {\n                    screenfull.request();\n                  }\n                }}\n              />\n            )}\n            <SlideWrapper>\n              <Slide />\n            </SlideWrapper>\n            {!present && <ThumbnailsBar />}\n          </Wrapper>\n        </SlidesContext.Provider>\n      </DeckContext.Provider>\n    </HistoryContext.Provider>\n  );\n}\n\nexport default App;\n","import { createGlobalStyle } from \"styled-components\";\nimport reset from \"styled-reset\";\n\nimport Deck from \"./Deck\";\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset}\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  html,\n  body {\n    height: 100%;\n    overflow: hidden;\n  }\n\n  body {\n    font-family: \"Roboto\", sans-serif;\n  }\n\n  b {\n    font-weight: bold;\n  }\n\n  \n  i {\n    font-style: italic;\n  }\n\n\n  // Credits to: https://codepen.io/cbracco/pen/qzukg\n  /* Add this attribute to the element that needs a tooltip */\n  [data-tooltip] {\n    position: relative;\n    z-index: 99999999;\n    cursor: pointer;\n    white-space: nowrap;\n  }\n\n  /* Hide the tooltip content by default */\n  [data-tooltip]:before,\n  [data-tooltip]:after {\n    visibility: hidden;\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=0);\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  /* Position tooltip above the element */\n  [data-tooltip]:before {\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-top: 5px;\n    transform: translate(-50%, 0);\n    padding: 7px;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    background-color: #000;\n    background-color: hsla(0, 0%, 20%, 0.9);\n    color: #fff;\n    content: attr(data-tooltip);\n    // text-align: center;\n    font-size: 0.9em;\n    line-height: 1.2;\n  }\n\n  /* Triangle hack to make tooltip look like a speech bubble */\n  [data-tooltip]:after {\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translate(-50%, 0);\n    width: 0;\n    border-bottom: 5px solid #000;\n    border-bottom: 5px solid hsla(0, 0%, 20%, 0.9);\n    border-right: 5px solid transparent;\n    border-left: 5px solid transparent;\n    content: \" \";\n    font-size: 0;\n    line-height: 0;\n  }\n\n  /* Show tooltip content on hover */\n  [data-tooltip]:hover:before,\n  [data-tooltip]:hover:after {\n    visibility: visible;\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=100);\n    opacity: 1;\n  }\n`;\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Deck />\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}